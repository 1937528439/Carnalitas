carn_should_have_no_consequences_for_extramarital_sex_trigger = {
	OR = {
		# Polyamory
		faith = { has_doctrine_parameter = no_unfaithfulness_penalty_active }

		# it's a slave owner fucking their slave
		AND = {
			exists = scope:sex_partner
			has_relation_slave_owner = scope:sex_partner
		}
		AND = {
			exists = scope:sex_partner
			has_relation_slave= scope:sex_partner
		}

		# special mod flags
		has_character_flag = carn_no_consequences_for_extramarital_sex_with_others
		has_trait_with_flag = carn_no_consequences_for_extramarital_sex_with_others
		AND = {
			exists = scope:sex_partner
			scope:sex_partner = { has_character_flag = carn_no_consequences_for_extramarital_sex_with_me }
		}
		AND = {
			exists = scope:sex_partner
			scope:sex_partner = { has_trait_with_flag = carn_no_consequences_for_extramarital_sex_with_me }
		}
	}
}

# this only makes the spouses and lovers of the no_consequences character happy
# anyone they cuckold will always get angry unless they have polyamory -- this is intended behavior.
carn_should_have_no_spouse_opinion_penalties_for_extramarital_sex_trigger = {
	OR = {
		# it's a slave owner fucking their slave
		AND = {
			exists = scope:sex_partner
			has_relation_slave_owner = scope:sex_partner
		}
		AND = {
			exists = scope:sex_partner
			has_relation_slave= scope:sex_partner
		}

		# special mod flags
		has_character_flag = carn_no_consequences_for_extramarital_sex_with_others
		has_trait_with_flag = carn_no_consequences_for_extramarital_sex_with_others
		AND = {
			exists = scope:sex_partner
			scope:sex_partner = { has_character_flag = carn_no_consequences_for_extramarital_sex_with_me }
		}
		AND = {
			exists = scope:sex_partner
			scope:sex_partner = { has_trait_with_flag = carn_no_consequences_for_extramarital_sex_with_me }
		}
	}
}